(function(){"use strict";let u=0,T=(e,{W:d,H:n,dpr:b,scrollY:k=0,grid:m,circle:p,easing:A=.25})=>{e.lineWidth=1/b,e.fillStyle="#F0F0F0",e.fillRect(0,0,d,n),u+=(k-u)*A,e.beginPath(),e.strokeStyle="rgba(0,0,0, .125)";for(let v=0;v<m.max;v++){let y=v*m.cell;if(e.moveTo(y,0),e.lineTo(y,n),v<m.rows){let z=(y+m.speed*u)%m.height;e.moveTo(0,z),e.lineTo(d,z)}}e.stroke(),e.moveTo(0,0),e.arc(p.x,p.speed*u,p.r,0,2*Math.PI),e.fillStyle=p.fill,e.fill()},t=0,s=0,l=1,o=0,h=null,i=null,a=0,g=0,r=null,f=null,F=()=>{h.width=t*l,h.height=s*l,i&&i.scale(l,l)};onmessage=({data:e})=>{let{event:d,options:n}=e;({init:()=>{h=e.canvas,{W:t,H:s,dpr:l,scrollY:o,grid:r,circle:f}=n,i=h.getContext("2d",{alpha:!1,desynchronized:!0}),F(),T(i,{W:t,H:s,dpr:l,scrollY:o,grid:r,circle:f,easing:1}),postMessage({event:"ready"})},resize:()=>{({W:t,H:s,dpr:l,scrollY:o,grid:r,circle:f}=n),F(),a||T(i,{W:t,H:s,dpr:l,scrollY:o,grid:r,circle:f})},scroll:()=>{o=n.scrollY,a||P(),clearTimeout(g),g=setTimeout(S,250)}})[d]()};let S=()=>{cancelAnimationFrame(a),a=0},P=()=>{S(),w()},w=()=>{a=requestAnimationFrame(()=>w()),T(i,{W:t,H:s,dpr:l,scrollY:o,grid:r,circle:f})}})();
